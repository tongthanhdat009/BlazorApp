@page "/profile"
@layout CustomerLayout
@using BlazorApp.Services
@inject IAuthService AuthService

<PageTitle>Trang cá nhân</PageTitle>

<div class="container my-5" style="max-width: 900px;">
    <!-- Profile Header -->
    <div class="card border-1 shadow-sm rounded-4 text-center mb-4">
        <div class="card-body p-5">
            <div class="mb-3">
                <i class="bi bi-person-circle text-success" style="font-size: 6rem;"></i>
            </div>
            <h1 class="fw-bold text-dark mb-2">@customerName</h1>
            <p class="text-muted">Khách hàng</p>
        </div>
    </div>

    <!-- Profile Content -->
    <div class="card border-1 shadow-sm rounded-4">
        <div class="card-body p-4">
            <h4 class="fw-bold text-dark mb-4 pb-3 border-bottom">
                <i class="bi bi-person-fill text-success me-2"></i>
                Thông tin cá nhân
            </h4>
            <div class="row g-4 mb-4">
                <div class="col-md-6">
                    <label class="d-block fw-semibold text-muted small mb-2">Họ và tên</label>
                    <p class="text-dark mb-0">@customerName</p>
                </div>
                <div class="col-md-6">
                    <label class="d-block fw-semibold text-muted small mb-2">Email</label>
                    <p class="text-dark mb-0">customer@example.com</p>
                </div>
                <div class="col-md-6">
                    <label class="d-block fw-semibold text-muted small mb-2">Số điện thoại</label>
                    <p class="text-dark mb-0">0123456789</p>
                </div>
                <div class="col-md-6">
                    <label class="d-block fw-semibold text-muted small mb-2">Địa chỉ</label>
                    <p class="text-dark mb-0">123 Nguyễn Huệ, Q1, TP.HCM</p>
                </div>
            </div>
            <button class="btn btn-success px-4 py-2 rounded-3 fw-semibold">
                <i class="bi bi-pencil-square me-2"></i>
                Chỉnh sửa thông tin
            </button>
        </div>
    </div>
</div>

<style>
    .btn-success {
        background: linear-gradient(135deg, #2ecc71 0%, #27ae60 100%);
        border-color: #27ae60;
    }

    .btn-success:hover {
        background: linear-gradient(135deg, #27ae60 0%, #229954 100%);
    }

    .text-success {
        color: #2ecc71 !important;
    }
</style>

@code {
    private string customerName = "Khách hàng";

    protected override async Task OnInitializedAsync()
    {
        var user = await AuthService.GetCurrentUserAsync();
        if (user != null)
        {
            customerName = user.Name ?? "Khách hàng";
        }
    }
}
